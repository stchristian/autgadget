<div class="gadget_container">
    <div class="row">
        <div class="col-md-6">  
            <div class="slideshow-container ">
                <% gadget.kepek.forEach(kep => { %>
                    <div class="slides">
                        <img class="slideshow-img" src="/<%= kep %>">
                    </div>
                <% }) %>
                <a onclick="plusSlides(1)"><i class="next fas fa-caret-right"></i></a>
                <a onclick="plusSlides(-1)"><i class="prev fas fa-caret-left"></i></a>
                
            </div>
            <div class="slideshow-thumbnails row align-items-center mt-3 mb-3 mb-md-0">
                <% gadget.kepek.forEach((kep, index) => { %>
                    <div class="col-2">
                        <img class="thumbnail-image" src="/<%= kep %>" onclick="currentSlide(<%= index %>)">
                    </div>
                <% }) %>
            </div>
        </div>
        <div class="col-md-6">
            <h2 class="mb-0 font-weight-bold"><%= gadget.nev%></h2>
            <span class="d-block mb-3 font-weight-bold">Állapot: <%= gadget.allapot %> <% if (gadget.allapot == "Szabad") { %>
            <i style="color: green;" class="fas fa-check-circle"></i>
            <% } else {%><i style="color: red;" class="fas fa-times-circle"></i><%}%></span>
            <h5>Leírás</h5>
            <p><%= gadget.leiras%></p>
            <% if (gadget.tartozekok.length != 0) { %>
                <h5>Tartozékok</h5>
                <ul>
                    <% gadget.tartozekok.forEach(tartozek => { %>
                    <li><%= tartozek%></li>
                    <% }) %>
                </ul>
            <% } %>
            <% if (rentals.length != 0) { %>
            <div style="max-height: 200px; overflow-y: auto;">
                <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                    <th scope="col">Kölcsönzés kezdete</th>
                    <th scope="col">Kölcsönzés vége</th>
                    </tr>
                </thead>
                <tbody>
                    <% rentals.forEach(rental => { %>
                        <tr>
                        <td><%= dateFormat(rental.foglalas.kezdete, "longDate") %></td>
                        <td><%= dateFormat(rental.foglalas.vege, "longDate") %></td>
                        </tr>
                    <% }) %>
                </tbody>
                </table>
            </div>
            <% } %>
            <form action="/rental/create/<%= gadget.id %>" method="POST">
                <div class="form-group">
                    <label for="kezdete">Foglalás kezdete:</label>
                    <input class="form-control"type="text" name="kezdete" id="fromDate">
                </div>
                <div class="form-group">
                    <label for="vege">Foglalás vége:</label>
                    <input class="form-control" type="text" name="vege" id="toDate">
                </div>
                <button type="submit" class="btn btn-primary col col-md-auto">
                Kölcsönzés
                </button>
            </form>
            
        </div>
    </div>
    <div class="row">
        <footer class="col mt-2 text-center">
            Eszközfelelős: <a class="font-italic" href="#"><%= gadget._felelos.teljesNev %></a>
        </footer>
    </div>
</div>

<%- contentFor('customScript') %>
<script src="/js/slideShowGallery.js"></script>
<script src="/js/datePicker.js"></script>

